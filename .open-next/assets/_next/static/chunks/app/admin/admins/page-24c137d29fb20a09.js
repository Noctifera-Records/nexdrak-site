(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[831],{7914:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>_});var s=t(5155),r=t(2115),l=t(8720),d=t(7003),i=t(5016);let n=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{className:"relative w-full overflow-auto",children:(0,s.jsx)("table",{ref:a,className:(0,i.cn)("w-full caption-bottom text-sm",t),...r})})});n.displayName="Table";let o=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("thead",{ref:a,className:(0,i.cn)("[&_tr]:border-b",t),...r})});o.displayName="TableHeader";let c=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("tbody",{ref:a,className:(0,i.cn)("[&_tr:last-child]:border-0",t),...r})});c.displayName="TableBody",r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("tfoot",{ref:a,className:(0,i.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...r})}).displayName="TableFooter";let m=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("tr",{ref:a,className:(0,i.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...r})});m.displayName="TableRow";let x=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("th",{ref:a,className:(0,i.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...r})});x.displayName="TableHead";let f=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("td",{ref:a,className:(0,i.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...r})});f.displayName="TableCell",r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("caption",{ref:a,className:(0,i.cn)("mt-4 text-sm text-muted-foreground",t),...r})}).displayName="TableCaption";var h=t(4679),u=t(6170),p=t(235),j=t(5646);let N=j.bL,g=j.l9,b=j.ZL,y=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(j.hJ,{className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r,ref:a})});y.displayName=j.hJ.displayName;let w=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsxs)(b,{children:[(0,s.jsx)(y,{}),(0,s.jsx)(j.UC,{ref:a,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r})]})});w.displayName=j.UC.displayName;let v=e=>{let{className:a,...t}=e;return(0,s.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-2 text-center sm:text-left",a),...t})};v.displayName="AlertDialogHeader";let R=e=>{let{className:a,...t}=e;return(0,s.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...t})};R.displayName="AlertDialogFooter";let C=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(j.hE,{ref:a,className:(0,i.cn)("text-lg font-semibold",t),...r})});C.displayName=j.hE.displayName;let A=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(j.VY,{ref:a,className:(0,i.cn)("text-sm text-muted-foreground",t),...r})});A.displayName=j.VY.displayName;let E=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(j.rc,{ref:a,className:(0,i.cn)((0,d.r)(),t),...r})});E.displayName=j.rc.displayName;let k=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(j.ZD,{ref:a,className:(0,i.cn)((0,d.r)({variant:"outline"}),"mt-2 sm:mt-0",t),...r})});k.displayName=j.ZD.displayName;var T=t(3318);function _(){let[e,a]=(0,r.useState)([]),[t,i]=(0,r.useState)(!0),[j,b]=(0,r.useState)(""),[y,_]=(0,r.useState)(""),[z,S]=(0,r.useState)(!1),[D,F]=(0,r.useState)(""),J=new T.z,L=async()=>{i(!0),F("");try{let e=await J.getAdmins();a(e)}catch(e){F(e.message||"Error al cargar administradores"),l.oR.error(e.message||"Error al cargar administradores")}finally{i(!1)}};(0,r.useEffect)(()=>{L()},[]);let $=async()=>{F("");try{await J.createAdmin(j,y),l.oR.success("Administrador agregado exitosamente."),b(""),_(""),S(!1),L()}catch(a){let e=a.message||"Error al agregar administrador";F(e),l.oR.error(e)}},H=async e=>{F("");try{await J.deleteAdmin(e),l.oR.success("Administrador eliminado exitosamente."),L()}catch(a){let e=a.message||"Error al eliminar administrador";F(e),l.oR.error(e)}};return t?(0,s.jsx)("div",{className:"text-center",children:"Loading admins..."}):(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Manage Admins"}),D&&(0,s.jsx)("div",{className:"bg-red-900/20 border border-red-500 text-red-200 px-4 py-3 rounded mb-4",children:D}),(0,s.jsxs)(h.lG,{open:z,onOpenChange:S,children:[(0,s.jsx)(h.zM,{asChild:!0,children:(0,s.jsx)(d.$,{className:"mb-4",children:"Add New Admin"})}),(0,s.jsxs)(h.Cf,{children:[(0,s.jsxs)(h.c7,{children:[(0,s.jsx)(h.L3,{children:"Add New Administrator"}),(0,s.jsx)(h.rr,{children:"Enter the email and a temporary password for the new administrator."})]}),(0,s.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,s.jsx)(p.J,{htmlFor:"email",className:"text-right",children:"Email"}),(0,s.jsx)(u.p,{id:"email",type:"email",value:j,onChange:e=>b(e.target.value),className:"col-span-3"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,s.jsx)(p.J,{htmlFor:"password",className:"text-right",children:"Password"}),(0,s.jsx)(u.p,{id:"password",type:"password",value:y,onChange:e=>_(e.target.value),className:"col-span-3"})]})]}),(0,s.jsxs)(h.Es,{children:[(0,s.jsx)(d.$,{variant:"outline",onClick:()=>S(!1),children:"Cancel"}),(0,s.jsx)(d.$,{onClick:$,children:"Add Admin"})]})]})]}),(0,s.jsxs)(n,{children:[(0,s.jsx)(o,{children:(0,s.jsxs)(m,{children:[(0,s.jsx)(x,{children:"Email"}),(0,s.jsx)(x,{className:"text-right",children:"Actions"})]})}),(0,s.jsx)(c,{children:e.map(e=>(0,s.jsxs)(m,{children:[(0,s.jsx)(f,{children:e.email}),(0,s.jsx)(f,{className:"text-right",children:(0,s.jsxs)(N,{children:[(0,s.jsx)(g,{asChild:!0,children:(0,s.jsx)(d.$,{variant:"destructive",size:"sm",children:"Delete"})}),(0,s.jsxs)(w,{children:[(0,s.jsxs)(v,{children:[(0,s.jsx)(C,{children:"Are you absolutely sure?"}),(0,s.jsx)(A,{children:"This action cannot be undone. This will permanently delete the administrator account."})]}),(0,s.jsxs)(R,{children:[(0,s.jsx)(k,{children:"Cancel"}),(0,s.jsx)(E,{onClick:()=>H(e.id),children:"Continue"})]})]})]})})]},e.id))})]})]})}},8500:(e,a,t)=>{Promise.resolve().then(t.bind(t,7914))}},e=>{e.O(0,[96,76,358],()=>e(e.s=8500)),_N_E=e.O()}]);