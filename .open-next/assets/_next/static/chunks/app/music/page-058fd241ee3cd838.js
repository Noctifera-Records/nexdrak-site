(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[466],{3914:(e,s,t)=>{Promise.resolve().then(t.bind(t,6301))},6301:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>b});var a=t(5155),r=t(2115),l=t(5239),i=t(6485),n=t(877),o=t(5880),c=t(3586),d=t(6168),x=t(6651),m=t(7181),h=t(5229),g=t(7003),u=t(3209),p=t(8525);function b(){let[e,s]=(0,r.useState)([]),[t,b]=(0,r.useState)([]),[f,j]=(0,r.useState)("albums"),[N,w]=(0,r.useState)(!0),[v,y]=(0,r.useState)(""),[k,_]=(0,r.useState)([]),[C,S]=(0,r.useState)([]),[A,L]=(0,r.useState)([]),E=(0,p.createClient)();(0,r.useEffect)(()=>{(async()=>{try{let{data:e,error:t}=await E.from("songs").select("*").order("created_at",{ascending:!1});if(t)return;if(e){let t=e.filter(e=>"single"===e.type);b(t);let a=new Map;e.filter(e=>"album"===e.type&&e.album_name).forEach(e=>{let s=e.album_name;a.has(s)||a.set(s,{name:s,songs:[],cover_image_url:e.cover_image_url,artist:e.artist,release_date:e.release_date}),a.get(s).songs.push(e)}),a.forEach(e=>{e.songs.sort((e,s)=>(e.track_number||0)-(s.track_number||0))}),s(Array.from(a.values()));let{data:r,error:l}=await E.from("streaming_links").select("*").order("is_primary",{ascending:!1});r&&!l&&L(r)}}catch(e){}finally{w(!1)}})()},[E]),(0,r.useEffect)(()=>{_(e),S(t)},[e,t]),(0,r.useEffect)(()=>{if(!v.trim()){_(e),S(t);return}let s=v.toLowerCase(),a=e.map(e=>({...e,songs:e.songs.filter(e=>e.title.toLowerCase().includes(s)||e.artist.toLowerCase().includes(s))})).filter(e=>{var t;return e.name.toLowerCase().includes(s)||(null==(t=e.artist)?void 0:t.toLowerCase().includes(s))||e.songs.length>0}),r=t.filter(e=>e.title.toLowerCase().includes(s)||e.artist.toLowerCase().includes(s));_(a),S(r),v.trim()&&(r.length>0&&0===a.length?j("singles"):a.length>0&&0===r.length?j("albums"):r.length>a.length?j("singles"):a.length>0&&j("albums"))},[v,e,t]);let z=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),T=e=>{let s=A.filter(s=>s.song_id===e);return s.find(e=>e.is_primary)||s[0]},F=async e=>{let s="name"in e?e.name:e.title,t="name"in e?window.location.href:e.stream_url;if(navigator.share)try{await navigator.share({title:"Listen to ".concat(s," by NexDrak!"),text:"Discover ".concat(s,"."),url:t||window.location.href})}catch(e){}else try{await navigator.clipboard.writeText(t||window.location.href),alert("Link copied to clipboard")}catch(e){alert("Could not share the link")}};return N?(0,a.jsxs)("div",{className:"container mx-auto px-4 py-24 mt-10",children:[(0,a.jsxs)("div",{className:"max-w-4xl mx-auto mb-12 text-center",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold mb-4",children:"MUSIC"}),(0,a.jsx)("p",{className:"text-gray-300",children:"Loading discography..."})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((e,s)=>(0,a.jsxs)(u.Zp,{className:"bg-black/50 backdrop-blur-sm border-white/20",children:[(0,a.jsx)("div",{className:"aspect-square bg-gray-800 animate-pulse"}),(0,a.jsxs)(u.Wu,{className:"p-4",children:[(0,a.jsx)("div",{className:"h-6 bg-gray-700 rounded animate-pulse mb-2"}),(0,a.jsx)("div",{className:"h-4 bg-gray-700 rounded animate-pulse w-2/3"})]})]},s))})]}):(0,a.jsxs)("div",{className:"container mx-auto px-4 py-24 mt-10",children:[(0,a.jsxs)("div",{className:"max-w-4xl mx-auto mb-12 text-center",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold mb-4",children:"MUSIC"}),(0,a.jsx)("p",{className:"text-gray-300 mb-8",children:"Explore NexDrak's complete discography, from albums to singles."}),(0,a.jsxs)("div",{style:{width:"100%",maxWidth:"400px",margin:"0 auto 32px auto"},children:[(0,a.jsxs)("div",{style:{position:"relative"},children:[(0,a.jsx)("input",{type:"text",placeholder:"Search songs, albums, or artists...",value:v,onChange:e=>y(e.target.value),style:{width:"100%",padding:"12px 40px 12px 40px",backgroundColor:"rgba(31, 41, 55, 0.8)",border:"1px solid rgba(75, 85, 99, 0.6)",borderRadius:"8px",color:"white",fontSize:"16px",outline:"none",backdropFilter:"blur(8px)",transition:"all 0.2s ease"},onFocus:e=>{let s=e.target;s.style.borderColor="rgba(156, 163, 175, 0.8)",s.style.backgroundColor="rgba(31, 41, 55, 0.9)"},onBlur:e=>{let s=e.target;s.style.borderColor="rgba(75, 85, 99, 0.6)",s.style.backgroundColor="rgba(31, 41, 55, 0.8)"}}),(0,a.jsx)("div",{style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"#9ca3af",pointerEvents:"none"},children:(0,a.jsx)(x.A,{className:"h-5 w-5"})}),v&&(0,a.jsx)("button",{onClick:()=>y(""),style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",color:"#9ca3af",backgroundColor:"transparent",border:"none",cursor:"pointer",padding:"4px",borderRadius:"4px",transition:"color 0.2s ease"},onMouseEnter:e=>e.target.style.color="white",onMouseLeave:e=>e.target.style.color="#9ca3af",type:"button",children:(0,a.jsx)(h.A,{className:"h-5 w-5"})})]}),v&&(0,a.jsxs)("div",{style:{fontSize:"14px",color:"#9ca3af",marginTop:"8px",textAlign:"center"},children:['Searching for "',v,'"',k.length>0&&C.length>0&&(0,a.jsxs)("span",{style:{display:"block",marginTop:"4px",fontSize:"12px"},children:["Found in both Albums (",k.length,") and Singles (",C.length,")"]})]})]})]}),(0,a.jsx)("div",{className:"flex justify-center mb-8",children:(0,a.jsxs)("div",{className:"bg-black/50 backdrop-blur-sm rounded-lg p-1 border border-white/20 flex",children:[(0,a.jsxs)("button",{onClick:()=>j("albums"),className:"px-6 py-2 rounded-md transition-colors flex items-center gap-2 ".concat("albums"===f?"bg-white text-black":"text-gray-400 hover:text-white"),children:[(0,a.jsx)(n.A,{className:"h-4 w-4"}),"Albums",v&&k.length>0&&(0,a.jsx)("span",{style:{backgroundColor:"albums"===f?"#000":"#fff",color:"albums"===f?"#fff":"#000",borderRadius:"12px",padding:"2px 8px",fontSize:"12px",fontWeight:"bold",marginLeft:"4px"},children:k.length})]}),(0,a.jsxs)("button",{onClick:()=>j("singles"),className:"px-6 py-2 rounded-md transition-colors flex items-center gap-2 ".concat("singles"===f?"bg-white text-black":"text-gray-400 hover:text-white"),children:[(0,a.jsx)(d.A,{className:"h-4 w-4"}),"Singles",v&&C.length>0&&(0,a.jsx)("span",{style:{backgroundColor:"singles"===f?"#000":"#fff",color:"singles"===f?"#fff":"#000",borderRadius:"12px",padding:"2px 8px",fontSize:"12px",fontWeight:"bold",marginLeft:"4px"},children:C.length})]})]})}),"albums"===f&&(0,a.jsx)("div",{className:"mb-16",children:k.length>0?(0,a.jsx)("div",{className:"space-y-8",children:k.map((e,s)=>(0,a.jsx)(u.Zp,{className:"bg-black/50 backdrop-blur-sm border-white/20 overflow-hidden",children:(0,a.jsx)(u.Wu,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row gap-6",children:[e.cover_image_url&&(0,a.jsx)("div",{className:"relative w-full lg:w-64 h-64 bg-gray-800 rounded-lg overflow-hidden",children:(0,a.jsx)(l.default,{src:e.cover_image_url,alt:e.name,fill:!0,className:"object-cover"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h2",{className:"text-3xl font-bold mb-2 text-white",children:e.name}),e.artist&&(0,a.jsx)("p",{className:"text-gray-400 mb-2 text-lg",children:e.artist}),e.release_date&&(0,a.jsxs)("div",{className:"flex items-center text-gray-500 mb-6",children:[(0,a.jsx)(i.A,{className:"h-4 w-4 mr-2"}),z(e.release_date)]}),(0,a.jsx)("div",{className:"space-y-2",children:e.songs.map(e=>{var s;return(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 hover:bg-white/5 rounded-lg transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("span",{className:"text-gray-500 w-8 text-center",children:e.track_number}),(0,a.jsx)("span",{className:"text-white",children:e.title})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(g.$,{variant:"ghost",size:"sm",onClick:()=>F(e),className:"text-gray-400 hover:text-white",children:(0,a.jsx)(m.A,{className:"h-4 w-4"})}),(0,a.jsx)(g.$,{variant:"outline",size:"sm",className:"border-white/50 text-white hover:bg-white/20",asChild:!0,children:(0,a.jsxs)("a",{href:(null==(s=T(e.id))?void 0:s.url)||e.stream_url,target:"_blank",rel:"noopener noreferrer",children:[(0,a.jsx)(o.A,{className:"h-4 w-4 mr-2"}),"Listen"]})})]})]},e.id)})})]})]})})},s))}):(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(n.A,{className:"h-16 w-16 text-gray-600 mx-auto mb-4"}),v?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("p",{className:"text-gray-400 text-lg",children:['No albums found for "',v,'"']}),(0,a.jsx)("p",{className:"text-gray-500 text-sm",children:"Try searching with different keywords"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{className:"text-gray-400 text-lg",children:"No albums available"}),(0,a.jsx)("p",{className:"text-gray-500 text-sm",children:"Albums will appear here when added"})]})]})}),"singles"===f&&(0,a.jsx)("div",{className:"mb-16",children:C.length>0?(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:C.map(e=>{var s,t;return(0,a.jsxs)(u.Zp,{className:"bg-black/50 backdrop-blur-sm border-white/20 overflow-hidden group hover:border-white/40 transition-all",children:[(0,a.jsxs)("div",{className:"relative aspect-square bg-gray-800",children:[e.cover_image_url?(0,a.jsx)(l.default,{src:e.cover_image_url,alt:e.title,fill:!0,className:"object-cover transition-transform group-hover:scale-105"}):(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,a.jsx)(c.A,{className:"h-16 w-16 text-gray-600"})}),(0,a.jsx)("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:(0,a.jsx)(g.$,{variant:"outline",size:"lg",className:"border-white text-white hover:bg-white/20",asChild:!0,children:(0,a.jsxs)("a",{href:(null==(s=T(e.id))?void 0:s.url)||e.stream_url,target:"_blank",rel:"noopener noreferrer",children:[(0,a.jsx)(o.A,{className:"h-5 w-5 mr-2"}),"LISTEN"]})})})]}),(0,a.jsx)(u.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-white group-hover:text-gray-200 transition-colors",children:e.title}),e.artist&&(0,a.jsx)("p",{className:"text-gray-400",children:e.artist}),e.release_date&&(0,a.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,a.jsx)(i.A,{className:"h-4 w-4 mr-2"}),z(e.release_date)]}),(0,a.jsxs)("div",{className:"flex items-center justify-between pt-3",children:[(0,a.jsx)(g.$,{variant:"outline",size:"sm",className:"border-white/50 text-white hover:bg-white/20 flex-1 mr-2",asChild:!0,children:(0,a.jsxs)("a",{href:(null==(t=T(e.id))?void 0:t.url)||e.stream_url,target:"_blank",rel:"noopener noreferrer",children:[(0,a.jsx)(o.A,{className:"h-4 w-4 mr-2"}),"STREAM"]})}),(0,a.jsx)(g.$,{variant:"ghost",size:"sm",onClick:()=>F(e),className:"text-white hover:bg-white/20",children:(0,a.jsx)(m.A,{className:"h-4 w-4"})})]})]})})]},e.id)})}):(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(d.A,{className:"h-16 w-16 text-gray-600 mx-auto mb-4"}),v?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("p",{className:"text-gray-400 text-lg",children:['No singles found for "',v,'"']}),(0,a.jsx)("p",{className:"text-gray-500 text-sm",children:"Try searching with different keywords"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{className:"text-gray-400 text-lg",children:"No singles available"}),(0,a.jsx)("p",{className:"text-gray-500 text-sm",children:"Singles will appear here when added"})]})]})}),(0,a.jsxs)("div",{className:"max-w-2xl mx-auto p-8 bg-black/50 backdrop-blur-sm border border-white/20 rounded-xl text-center",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"LICENSING"}),(0,a.jsx)("p",{className:"text-gray-300 mb-6",children:"Interested in licensing NexDrak's music for your project, film, or commercial? Get in touch with our licensing team."}),(0,a.jsx)(g.$,{className:"bg-white hover:bg-gray-200 text-black",children:"CONTACT FOR LICENSING"})]})]})}}},e=>{e.O(0,[96,76,358],()=>e(e.s=3914)),_N_E=e.O()}]);