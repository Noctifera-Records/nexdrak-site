(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[454],{999:(e,r,a)=>{"use strict";a.d(r,{default:()=>h});var s=a(5155),t=a(2115),i=a(63),l=a(2619),o=a.n(l),n=a(7003),c=a(6170),d=a(235),m=a(8525),u=a(1195);function h(){let[e,r]=(0,t.useState)({email:"",username:"",password:"",confirmPassword:""}),[a,l]=(0,t.useState)(!1),h=(0,i.useRouter)(),p=(0,m.createClient)(),{showNotification:g}=(0,u.E)(),w=e=>{r(r=>({...r,[e.target.name]:e.target.value}))},x=async r=>{if(r.preventDefault(),e.email&&e.username&&e.password&&e.confirmPassword?e.password!==e.confirmPassword?(g({type:"error",title:"Validation Error",message:"Passwords do not match"}),!1):!(e.password.length<6)||(g({type:"error",title:"Validation Error",message:"Password must be at least 6 characters long"}),!1):(g({type:"error",title:"Validation Error",message:"All fields are required"}),!1)){l(!0);try{let{error:r}=await p.auth.signUp({email:e.email,password:e.password,options:{data:{username:e.username,role:"user"}}});if(r)return void g({type:"error",title:"Registration Error",message:r.message});g({type:"success",title:"Account Created Successfully",message:"Check your email to confirm your account"}),setTimeout(()=>{h.push("/login")},2e3)}catch(e){g({type:"error",title:"Unexpected Error",message:"An error occurred while creating the account"})}finally{l(!1)}}};return(0,s.jsxs)("form",{onSubmit:x,className:"space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(d.J,{htmlFor:"email",className:"text-white",children:"Email"}),(0,s.jsx)(c.p,{id:"email",name:"email",type:"email",value:e.email,onChange:w,placeholder:"example@email.com",className:"bg-gray-700 border-gray-600 text-white",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(d.J,{htmlFor:"username",className:"text-white",children:"Username"}),(0,s.jsx)(c.p,{id:"username",name:"username",type:"text",value:e.username,onChange:w,placeholder:"your_username",className:"bg-gray-700 border-gray-600 text-white",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(d.J,{htmlFor:"password",className:"text-white",children:"Password"}),(0,s.jsx)(c.p,{id:"password",name:"password",type:"password",value:e.password,onChange:w,placeholder:"••••••••",className:"bg-gray-700 border-gray-600 text-white",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(d.J,{htmlFor:"confirmPassword",className:"text-white",children:"Confirm Password"}),(0,s.jsx)(c.p,{id:"confirmPassword",name:"confirmPassword",type:"password",value:e.confirmPassword,onChange:w,placeholder:"••••••••",className:"bg-gray-700 border-gray-600 text-white",required:!0})]})]}),(0,s.jsx)(n.$,{type:"submit",disabled:a,className:"w-full bg-white text-black hover:bg-gray-200",children:a?"Creating account...":"Create Account"}),(0,s.jsx)("div",{className:"text-center",children:(0,s.jsxs)("p",{className:"text-gray-400",children:["Already have an account?"," ",(0,s.jsx)(o(),{href:"/login",className:"text-white hover:underline",children:"Sign in"})]})})]})}},3842:(e,r,a)=>{Promise.resolve().then(a.bind(a,999))}},e=>{e.O(0,[96,76,358],()=>e(e.s=3842)),_N_E=e.O()}]);