(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{515:(e,t,s)=>{"use strict";s.d(t,{default:()=>n});var r=s(2115);function n(){return(0,r.useEffect)(()=>{["/_next/static/css/app/layout.css","https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap","/favicon.ico","/apple-touch-icon.png"].forEach(e=>{let t=document.createElement("link");t.rel="preload",e.endsWith(".css")||e.includes("fonts.googleapis.com")?(t.as="style",t.href=e):e.match(/\.(jpg|jpeg|png|webp|avif)$/)?(t.as="image",t.href=e):e.match(/\.(woff|woff2)$/)&&(t.as="font",t.type="font/woff2",t.crossOrigin="anonymous",t.href=e),t.href&&document.head.appendChild(t)}),["/music","/about","/contact"].forEach(e=>{let t=document.createElement("link");t.rel="prefetch",t.href=e,document.head.appendChild(t)}),["https://fonts.googleapis.com","https://fonts.gstatic.com","https://www.youtube.com","https://open.spotify.com"].forEach(e=>{let t=document.createElement("link");t.rel="dns-prefetch",t.href=e,document.head.appendChild(t)})},[]),null}},647:(e,t,s)=>{"use strict";s.d(t,{default:()=>i});var r=s(5155),n=s(2115);function i(){let e=(0,n.useRef)(null);return(0,n.useEffect)(()=>{if(!e.current)return;let t=e.current,s=t.getContext("2d"),r=()=>{if(!e.current)return;s.clearRect(0,0,t.width,t.height);let n=performance.now()/1e3,i=s.createLinearGradient(0,0,0,t.height);i.addColorStop(0,"rgba(0, 0, 0, 0.9)"),i.addColorStop(.5,"rgba(10, 10, 20, 0.8)"),i.addColorStop(1,"rgba(0, 0, 0, 0.9)"),s.fillStyle=i,s.fillRect(0,0,t.width,t.height);for(let e=0;e<50;e++){let r=t.width/50*e+50*Math.sin(.5*n+e),i=.5*t.height+100*Math.sin(.3*n+.5*e),a=2+ +Math.sin(n+e),l=.3+.2*Math.sin(.7*n+e);s.fillStyle="rgba(255, 255, 255, ".concat(l,")"),s.beginPath(),s.arc(r,i,a,0,2*Math.PI),s.fill()}for(let e=0;e<8;e++){let r=t.height/8*e,i=30+5*e,a=.01+.002*e,l=.5*n+.5*e;s.beginPath(),s.moveTo(0,r);for(let e=0;e<t.width;e+=5){let t=Math.sin(e*a+l)*i;s.lineTo(e,r+t)}s.strokeStyle="rgba(255, 255, 255, ".concat(.1+.02*e,")"),s.lineWidth=1,s.stroke()}let a=t.width/2,l=t.height/2;for(let e=0;e<3;e++){let t=50+30*e+20*Math.sin(2*n+e),r=.1+.05*Math.sin(n+e);s.strokeStyle="rgba(255, 255, 255, ".concat(r,")"),s.lineWidth=2,s.beginPath(),s.arc(a,l,t,0,2*Math.PI),s.stroke()}requestAnimationFrame(r)},n=requestAnimationFrame(r);return()=>cancelAnimationFrame(n)},[]),(0,n.useEffect)(()=>{let t=()=>{e.current&&(e.current.width=window.innerWidth,e.current.height=window.innerHeight)};return window.addEventListener("resize",t),t(),()=>window.removeEventListener("resize",t)},[]),(0,r.jsx)("canvas",{ref:e,className:"fixed top-0 left-0 w-full h-full -z-10 pointer-events-none"})}},1049:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,1290,23)),Promise.resolve().then(s.bind(s,647)),Promise.resolve().then(s.bind(s,1479)),Promise.resolve().then(s.bind(s,3726)),Promise.resolve().then(s.bind(s,7122)),Promise.resolve().then(s.bind(s,1195)),Promise.resolve().then(s.bind(s,515)),Promise.resolve().then(s.bind(s,1901)),Promise.resolve().then(s.bind(s,5496)),Promise.resolve().then(s.t.bind(s,1561,23))},1290:()=>{},1479:(e,t,s)=>{"use strict";s.d(t,{default:()=>a});var r=s(5155),n=s(2115);class i extends n.Component{static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){}render(){if(this.state.hasError){if(this.props.fallback){let e=this.props.fallback;return(0,r.jsx)(e,{error:this.state.error,resetError:this.resetError})}return(0,r.jsx)("div",{className:"min-h-screen bg-black flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center text-white p-8",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Something went wrong"}),(0,r.jsx)("p",{className:"text-gray-300 mb-4",children:"We're having trouble loading the page. Please try refreshing."}),(0,r.jsx)("button",{onClick:this.resetError,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded",children:"Try Again"})]})})}return this.props.children}constructor(e){super(e),this.resetError=()=>{this.setState({hasError:!1,error:void 0})},this.state={hasError:!1}}}let a=i},1901:(e,t,s)=>{"use strict";s.d(t,{ThemeProvider:()=>i});var r=s(5155);s(2115);var n=s(5379);function i(e){let{children:t,...s}=e;return(0,r.jsx)(n.N,{...s,children:t})}},3726:(e,t,s)=>{"use strict";s.d(t,{default:()=>i});var r=s(5155),n=s(2115);function i(e){let{children:t}=e,[s,i]=(0,n.useState)(!1);return((0,n.useEffect)(()=>{let e=e=>{var t,s;return!!((null==(t=e.message)?void 0:t.includes("Cannot read properties of null"))&&(null==(s=e.message)?void 0:s.includes("firstChild")))&&(e.preventDefault(),e.stopPropagation(),i(!1),setTimeout(()=>i(!0),100),!0)},t=e=>{var t,s,r,n;(null==(s=e.reason)||null==(t=s.message)?void 0:t.includes("Cannot read properties of null"))&&(null==(n=e.reason)||null==(r=n.message)?void 0:r.includes("firstChild"))&&(e.preventDefault(),i(!1),setTimeout(()=>i(!0),100))};return window.addEventListener("error",e,!0),window.addEventListener("unhandledrejection",t),i(!0),()=>{window.removeEventListener("error",e,!0),window.removeEventListener("unhandledrejection",t)}},[]),s)?(0,r.jsx)(r.Fragment,{children:t}):(0,r.jsx)("div",{className:"min-h-screen bg-black flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-white",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white mx-auto mb-4"}),(0,r.jsx)("p",{children:"Loading..."})]})})}},5496:(e,t,s)=>{"use strict";s.d(t,{default:()=>n});var r=s(740);function n(){return(0,r.useReportWebVitals)(e=>{window.gtag&&window.gtag("event",e.name,{custom_map:{metric_id:"custom_metric"},value:Math.round("CLS"===e.name?1e3*e.value:e.value),event_category:"Web Vitals",event_label:e.id,non_interaction:!0}),fetch("/api/analytics/web-vitals",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e.name,value:e.value,id:e.id,label:e.label,delta:e.delta,rating:e.rating,navigationType:e.navigationType,timestamp:Date.now(),url:window.location.href,userAgent:navigator.userAgent})}).catch(e=>{})}),null}},7122:(e,t,s)=>{"use strict";s.d(t,{default:()=>x});var r=s(5155),n=s(2115),i=s(2619),a=s.n(i),l=s(9540),o=s(5870),c=s(5229),d=s(7003),h=s(8525),u=s(4915),m=s(2740);function x(){let[e,t]=(0,n.useState)(!1),[s,i]=(0,n.useState)(!1),[x,f]=(0,n.useState)(null),[g,b]=(0,n.useState)(null),{settings:v}=(0,u.y)(),p=(0,h.createClient)();(0,n.useEffect)(()=>{let e=async()=>{let{data:{user:e}}=await p.auth.getUser();if(e){let{data:t}=await p.from("profiles").select("role").eq("id",e.id).single();b(t)}f(e)};e();let{data:{subscription:t}}=p.auth.onAuthStateChange((t,s)=>{f((null==s?void 0:s.user)||null),(null==s?void 0:s.user)?e():b(null)});return()=>t.unsubscribe()},[p.auth]);let w=(null==g?void 0:g.role)==="admin";(0,n.useEffect)(()=>{let e=e=>{"Escape"===e.key&&(t(!1),i(!1))};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[]);let j=[{name:"HOME",href:"/"},{name:"EVENTS",href:"/events"},{name:"MERCH",href:"/merch"},{name:"MUSIC",href:"/music"},{name:"DOWNLOADS",href:"/downloads"},{name:"BIO",href:"/about"}];return(0,r.jsx)("header",{className:"fixed top-0 w-full z-50 bg-black/70 backdrop-blur-md",children:(0,r.jsxs)("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[(0,r.jsx)(a(),{href:"/",children:(0,r.jsx)("img",{src:v.navbar_logo,alt:"".concat(v.site_title," logo"),className:"h-8 w-auto"})}),(0,r.jsxs)("nav",{className:"hidden md:flex items-center space-x-8",children:[j.map(e=>(0,r.jsx)(a(),{href:e.href,className:"text-sm tracking-widest hover:text-white transition-colors",children:e.name},e.name)),x?(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[!w&&(0,r.jsx)(a(),{href:"/account",className:"text-sm tracking-widest hover:text-white transition-colors",children:"ACCOUNT"}),w&&(0,r.jsx)(a(),{href:"/admin",className:"text-sm tracking-widest hover:text-white transition-colors",children:"ADMIN"}),(0,r.jsx)(m.A,{variant:"outline",size:"sm",className:"border-white text-white hover:bg-white/20"})]}):(0,r.jsx)(d.$,{variant:"outline",className:"border-white text-white hover:bg-white/20 rounded-md px-6",asChild:!0,children:(0,r.jsx)(a(),{href:"/login",children:"LOGIN"})})]}),(0,r.jsxs)("div",{className:"md:hidden flex items-center gap-2",children:[x&&w&&(0,r.jsx)(d.$,{variant:"ghost",size:"icon",onClick:()=>i(!s),"aria-label":"Toggle admin menu",className:"transition-colors ".concat(s?"text-blue-300 bg-blue-900/50":"text-blue-400 hover:text-blue-300 hover:bg-blue-900/30"),children:(0,r.jsx)(o.A,{className:"h-5 w-5"})}),(0,r.jsx)(d.$,{variant:"ghost",size:"icon",onClick:()=>t(!e),"aria-label":"Toggle navigation menu",children:e?(0,r.jsx)(c.A,{className:"h-6 w-6"}):(0,r.jsx)(l.A,{className:"h-6 w-6"})})]}),e&&(0,r.jsxs)("div",{className:"fixed inset-0 z-[60] md:hidden",children:[(0,r.jsx)("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm",onClick:()=>t(!1)}),(0,r.jsxs)("div",{className:"fixed right-0 top-0 h-full w-[300px] bg-gray-900 border-l border-white/30 p-6 shadow-2xl z-[70]",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,r.jsx)("h2",{className:"text-lg font-bold",children:"Navigation"}),(0,r.jsx)(d.$,{variant:"ghost",size:"icon",onClick:()=>t(!1),children:(0,r.jsx)(c.A,{className:"h-6 w-6"})})]}),(0,r.jsxs)("nav",{className:"flex flex-col space-y-6",children:[j.map(e=>(0,r.jsx)(a(),{href:e.href,className:"text-lg tracking-widest hover:text-white transition-colors",onClick:()=>t(!1),children:e.name},e.name)),x?(0,r.jsxs)("div",{className:"border-t border-white/20 pt-6 mt-6 space-y-4",children:[!w&&(0,r.jsx)(a(),{href:"/account",className:"block text-lg tracking-widest hover:text-white transition-colors",onClick:()=>t(!1),children:"ACCOUNT"}),!w&&(0,r.jsx)(m.A,{variant:"outline",className:"w-full border-white text-white hover:bg-white/20 rounded-md"})]}):(0,r.jsx)(d.$,{variant:"outline",className:"border-white text-white hover:bg-white/20 rounded-md mt-4",asChild:!0,children:(0,r.jsx)(a(),{href:"/login",onClick:()=>t(!1),children:"LOGIN"})})]})]})]}),s&&x&&(0,r.jsxs)("div",{className:"fixed inset-0 z-[60] md:hidden",children:[(0,r.jsx)("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm",onClick:()=>i(!1)}),(0,r.jsxs)("div",{className:"fixed left-0 top-0 h-full w-[280px] bg-blue-900 border-r border-blue-500/30 p-6 shadow-2xl z-[70]",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,r.jsx)("h2",{className:"text-lg font-bold text-blue-100",children:"Admin Panel"}),(0,r.jsx)(d.$,{variant:"ghost",size:"icon",onClick:()=>i(!1),className:"text-blue-100 hover:bg-blue-800/50",children:(0,r.jsx)(c.A,{className:"h-6 w-6"})})]}),(0,r.jsxs)("nav",{className:"flex flex-col space-y-4",children:[(0,r.jsxs)(a(),{href:"/admin",className:"flex items-center gap-3 text-blue-100 hover:text-white transition-colors p-3 rounded-lg hover:bg-blue-800/50",onClick:()=>i(!1),children:[(0,r.jsx)(o.A,{className:"h-5 w-5"}),"Dashboard"]}),(0,r.jsxs)(a(),{href:"/admin/music",className:"flex items-center gap-3 text-blue-100 hover:text-white transition-colors p-3 rounded-lg hover:bg-blue-800/50",onClick:()=>i(!1),children:[(0,r.jsx)("span",{className:"text-lg",children:"\uD83C\uDFB5"}),"Music"]}),(0,r.jsxs)(a(),{href:"/admin/merch",className:"flex items-center gap-3 text-blue-100 hover:text-white transition-colors p-3 rounded-lg hover:bg-blue-800/50",onClick:()=>i(!1),children:[(0,r.jsx)("span",{className:"text-lg",children:"\uD83D\uDECD️"}),"Merchandise"]}),(0,r.jsxs)(a(),{href:"/admin/events",className:"flex items-center gap-3 text-blue-100 hover:text-white transition-colors p-3 rounded-lg hover:bg-blue-800/50",onClick:()=>i(!1),children:[(0,r.jsx)("span",{className:"text-lg",children:"\uD83D\uDCC5"}),"Events"]}),(0,r.jsxs)(a(),{href:"/admin/users",className:"flex items-center gap-3 text-blue-100 hover:text-white transition-colors p-3 rounded-lg hover:bg-blue-800/50",onClick:()=>i(!1),children:[(0,r.jsx)("span",{className:"text-lg",children:"\uD83D\uDC65"}),"Users"]}),(0,r.jsxs)(a(),{href:"/admin/settings",className:"flex items-center gap-3 text-blue-100 hover:text-white transition-colors p-3 rounded-lg hover:bg-blue-800/50",onClick:()=>i(!1),children:[(0,r.jsx)("span",{className:"text-lg",children:"⚙️"}),"Settings"]}),(0,r.jsxs)(a(),{href:"/admin/account",className:"flex items-center gap-3 text-blue-100 hover:text-white transition-colors p-3 rounded-lg hover:bg-blue-800/50",onClick:()=>i(!1),children:[(0,r.jsx)("span",{className:"text-lg",children:"\uD83D\uDC64"}),"Account"]}),(0,r.jsx)("div",{className:"border-t border-blue-500/30 pt-4 mt-4",children:(0,r.jsx)(m.A,{variant:"outline",className:"w-full border-blue-300 text-blue-100 hover:bg-blue-800/50 rounded-md"})})]})]})]})]})})}}},e=>{e.O(0,[665,96,76,358],()=>e(e.s=1049)),_N_E=e.O()}]);