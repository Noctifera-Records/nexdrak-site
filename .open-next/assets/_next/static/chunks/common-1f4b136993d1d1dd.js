(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[76],{235:(e,r,t)=>{"use strict";t.d(r,{J:()=>d});var a=t(5155),s=t(2115),i=t(489),l=t(3101),n=t(5016);let o=(0,l.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)(i.b,{ref:r,className:(0,n.cn)(o(),t),...s})});d.displayName=i.b.displayName},1195:(e,r,t)=>{"use strict";t.d(r,{NotificationProvider:()=>f,E:()=>m});var a=t(5155),s=t(2115),i=t(6132),l=t(2056),n=t(2529),o=t(3327),d=t(5229),c=t(7003);let u=(0,s.createContext)(void 0),m=()=>{let e=(0,s.useContext)(u);if(!e)throw Error("useNotifications must be used within a NotificationProvider");return e};function f(e){let{children:r}=e,[t,m]=(0,s.useState)([]),f=e=>{m(r=>r.filter(r=>r.id!==e))};return(0,a.jsxs)(u.Provider,{value:{showNotification:e=>{let r=Math.random().toString(36).substring(2,11),t={...e,id:r};m(e=>[...e,t]),setTimeout(()=>{f(r)},e.duration||5e3)},removeNotification:f},children:[r,(0,a.jsx)("div",{className:"fixed top-4 right-4 z-[100] space-y-2 max-w-sm",children:t.map(e=>(0,a.jsx)("div",{className:"\n              ".concat((e=>{switch(e){case"success":return"bg-green-900/90 border-green-500/50 text-green-100";case"error":return"bg-red-900/90 border-red-500/50 text-red-100";case"warning":return"bg-yellow-900/90 border-yellow-500/50 text-yellow-100";default:return"bg-blue-900/90 border-blue-500/50 text-blue-100"}})(e.type),"\n              border rounded-lg p-4 shadow-lg backdrop-blur-sm\n              transform transition-all duration-300 ease-in-out\n              animate-in slide-in-from-right-full\n            "),children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(e=>{switch(e){case"success":return(0,a.jsx)(n.A,{className:"h-5 w-5 text-green-500"});case"error":return(0,a.jsx)(i.A,{className:"h-5 w-5 text-red-500"});case"warning":return(0,a.jsx)(l.A,{className:"h-5 w-5 text-yellow-500"});default:return(0,a.jsx)(o.A,{className:"h-5 w-5 text-blue-500"})}})(e.type),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("h4",{className:"font-semibold text-sm",children:e.title}),e.message&&(0,a.jsx)("p",{className:"text-xs opacity-90 mt-1",children:e.message})]}),(0,a.jsx)(c.$,{variant:"ghost",size:"sm",onClick:()=>f(e.id),className:"h-6 w-6 p-0 hover:bg-white/20",children:(0,a.jsx)(d.A,{className:"h-4 w-4"})})]})},e.id))})]})}},2740:(e,r,t)=>{"use strict";t.d(r,{A:()=>u});var a=t(5155),s=t(2115),i=t(63),l=t(8525),n=t(7003),o=t(5299),d=t(4926),c=t(1195);function u(e){let{className:r="",variant:t="ghost",size:u="default"}=e,[m,f]=(0,s.useState)(!1),p=(0,i.useRouter)(),g=(0,l.createClient)(),{showNotification:x}=(0,c.E)(),h=async()=>{f(!0);try{let{error:e}=await g.auth.signOut();e?x({type:"error",title:"Sign Out Error",message:e.message}):(x({type:"success",title:"Signed Out",message:"You have successfully signed out"}),setTimeout(()=>{p.push("/login"),p.refresh()},1e3))}catch(e){x({type:"error",title:"Unexpected Error",message:"An error occurred while signing out"})}finally{f(!1)}};return(0,a.jsxs)(n.$,{onClick:h,disabled:m,variant:t,size:u,className:"flex items-center space-x-2 ".concat(r),children:[m?(0,a.jsx)(o.A,{className:"h-4 w-4 animate-spin"}):(0,a.jsx)(d.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:m?"Signing out...":"Sign Out"})]})}},3209:(e,r,t)=>{"use strict";t.d(r,{Wu:()=>d,ZB:()=>o,Zp:()=>l,aR:()=>n,wL:()=>c});var a=t(5155),s=t(2115),i=t(5016);let l=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...s})});l.displayName="Card";let n=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",t),...s})});n.displayName="CardHeader";let o=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",t),...s})});o.displayName="CardTitle",s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,i.cn)("text-sm text-muted-foreground",t),...s})}).displayName="CardDescription";let d=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,i.cn)("p-6 pt-0",t),...s})});d.displayName="CardContent";let c=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,i.cn)("flex items-center p-6 pt-0",t),...s})});c.displayName="CardFooter"},3318:(e,r,t)=>{"use strict";t.d(r,{z:()=>s});var a=t(6881);class s{async getAdmins(){return(0,a.OW)(async()=>{let{data:e,error:r}=await this.supabase.from("profiles").select("id, role, created_at").eq("role","admin");if(r)throw Error((0,a.nl)(r,"fetch admin profiles"));if(!e||0===e.length)return[];e.map(e=>e.id);let t=[];for(let r of e)try{let{data:e,error:a}=await this.supabase.auth.admin.getUserById(r.id);!a&&(null==e?void 0:e.user)?t.push({id:r.id,email:e.user.email||"N/A",role:r.role,created_at:r.created_at}):t.push({id:r.id,email:"Email no disponible",role:r.role,created_at:r.created_at})}catch(e){t.push({id:r.id,email:"Error al obtener email",role:r.role,created_at:r.created_at})}return t})}async createAdmin(e,r){return(0,a.OW)(async()=>{if(!(null==e?void 0:e.trim()))throw Error("El email es requerido");if(!(null==r?void 0:r.trim()))throw Error("La contrase\xf1a es requerida");if(r.length<6)throw Error("La contrase\xf1a debe tener al menos 6 caracteres");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e))throw Error("El formato del email no es v\xe1lido");let{data:t,error:s}=await this.supabase.auth.admin.createUser({email:e.trim(),password:r,email_confirm:!0,user_metadata:{role:"admin",created_by_admin:!0}});if(s)throw Error((0,a.nl)(s,"create admin user"));if(!t.user)throw Error("Error al crear el usuario administrador");await new Promise(e=>setTimeout(e,1e3));let{data:i,error:l}=await this.supabase.from("profiles").select("*").eq("id",t.user.id).single();if(l||!i){let{error:r}=await this.supabase.from("profiles").insert({id:t.user.id,email:e.trim(),role:"admin",username:e.split("@")[0]})}return{id:t.user.id,email:e.trim(),role:"admin",created_at:t.user.created_at}})}async deleteAdmin(e){return(0,a.OW)(async()=>{var r,t,s,i,l;let{data:n}=await this.supabase.auth.getUser();if(!n.user)throw Error("No est\xe1s autenticado");let{data:o}=await this.supabase.from("profiles").select("role").eq("id",n.user.id).single();if(!o||"admin"!==o.role)throw Error("No tienes permisos de administrador");let{error:d}=await this.supabase.from("profiles").delete().eq("id",e);if(d)throw Error((0,a.nl)(d,"delete admin profile"));try{let{error:i}=await this.supabase.auth.admin.deleteUser(e);if(i){if((null==(r=i.message)?void 0:r.includes("403"))||(null==(t=i.message)?void 0:t.includes("Forbidden"))||403===i.status)throw Error("Usuario desactivado correctamente. Nota: Para eliminar completamente el usuario del sistema de autenticaci\xf3n, contacta al super administrador o configura los permisos de Service Role en Supabase.");if(null==(s=i.message)?void 0:s.includes("User not found"))return!0;throw Error((0,a.nl)(i,"delete admin from auth"))}return!0}catch(e){if((null==(i=e.message)?void 0:i.includes("403"))||(null==(l=e.message)?void 0:l.includes("Forbidden")))throw Error("Usuario desactivado del panel de administraci\xf3n. Para eliminarlo completamente del sistema de autenticaci\xf3n, necesitas configurar los permisos de Service Role en Supabase o contactar al super administrador.");throw e}})}async getSiteSettings(){return(0,a.OW)(async()=>{let{data:e,error:r}=await this.supabase.from("site_settings").select("key, value").order("key");if(r)throw Error((0,a.nl)(r,"fetch site settings"));return e||[]})}async updateSiteSettings(e){return(0,a.OW)(async()=>{let r=Object.entries(e).map(e=>{let[r,t]=e;return{key:r,value:(null==t?void 0:t.trim())||""}}).map(e=>{let{key:r,value:t}=e;return this.supabase.from("site_settings").update({value:t}).eq("key",r)}),t=(await Promise.allSettled(r)).filter(e=>"rejected"===e.status).map(e=>e.reason);if(t.length>0)throw Error("Error al actualizar ".concat(t.length," configuraci\xf3n(es)"));return!0})}constructor(){this.supabase=(0,a.UU)()}}},3550:(e,r,t)=>{"use strict";t.d(r,{l6:()=>c,gC:()=>g,eb:()=>x,bq:()=>m,yv:()=>u});var a=t(5155),s=t(2115),i=t(9860),l=t(5917),n=t(4033),o=t(2108),d=t(5016);let c=i.bL;i.YJ;let u=i.WT,m=s.forwardRef((e,r)=>{let{className:t,children:s,...l}=e;return(0,a.jsxs)(i.l9,{ref:r,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...l,children:[s,(0,a.jsx)(i.In,{asChild:!0,children:(0,a.jsx)(n.A,{className:"h-4 w-4 opacity-50"})})]})});m.displayName=i.l9.displayName;let f=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)(i.PP,{ref:r,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",t),...s,children:(0,a.jsx)(o.A,{className:"h-4 w-4"})})});f.displayName=i.PP.displayName;let p=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)(i.wn,{ref:r,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",t),...s,children:(0,a.jsx)(n.A,{className:"h-4 w-4"})})});p.displayName=i.wn.displayName;let g=s.forwardRef((e,r)=>{let{className:t,children:s,position:l="popper",...n}=e;return(0,a.jsx)(i.ZL,{children:(0,a.jsxs)(i.UC,{ref:r,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:l,...n,children:[(0,a.jsx)(f,{}),(0,a.jsx)(i.LM,{className:(0,d.cn)("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),(0,a.jsx)(p,{})]})})});g.displayName=i.UC.displayName,s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)(i.JU,{ref:r,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...s})}).displayName=i.JU.displayName;let x=s.forwardRef((e,r)=>{let{className:t,children:s,...n}=e;return(0,a.jsxs)(i.q7,{ref:r,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(i.VF,{children:(0,a.jsx)(l.A,{className:"h-4 w-4"})})}),(0,a.jsx)(i.p4,{children:s})]})});x.displayName=i.q7.displayName,s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)(i.wv,{ref:r,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",t),...s})}).displayName=i.wv.displayName},4441:()=>{},4679:(e,r,t)=>{"use strict";t.d(r,{Cf:()=>m,Es:()=>p,L3:()=>g,c7:()=>f,lG:()=>o,rr:()=>x,zM:()=>d});var a=t(5155),s=t(2115),i=t(7539),l=t(6363),n=t(5016);let o=i.bL,d=i.l9,c=i.ZL;i.bm;let u=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)(i.hJ,{ref:r,className:(0,n.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s})});u.displayName=i.hJ.displayName;let m=s.forwardRef((e,r)=>{let{className:t,children:s,...o}=e;return(0,a.jsxs)(c,{children:[(0,a.jsx)(u,{}),(0,a.jsxs)(i.UC,{ref:r,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...o,children:[s,(0,a.jsxs)(i.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(l.X,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});m.displayName=i.UC.displayName;let f=e=>{let{className:r,...t}=e;return(0,a.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-1.5 text-center sm:text-left",r),...t})};f.displayName="DialogHeader";let p=e=>{let{className:r,...t}=e;return(0,a.jsx)("div",{className:(0,n.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",r),...t})};p.displayName="DialogFooter";let g=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)(i.hE,{ref:r,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",t),...s})});g.displayName=i.hE.displayName;let x=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)(i.VY,{ref:r,className:(0,n.cn)("text-sm text-muted-foreground",t),...s})});x.displayName=i.VY.displayName},4915:(e,r,t)=>{"use strict";t.d(r,{y:()=>l});var a=t(2115),s=t(8525);let i={hero_album_link:"https://album.link/thequietone",hero_background_image:"/placeholder.png",hero_release_image:"/red.png",hero_release_text:"NEW RELEASE",site_logo:"/placeholder.png",site_logo_mobile:"/placeholder.png",navbar_logo:"/nav-logo.webp",site_title:"NexDrak",site_description:"Official website of NexDrak - Electronic Music Artist",contact_email:"contact@nexdrak.com",booking_email:"mgmt@nexdrak.com"};function l(){let[e,r]=(0,a.useState)(i),[t,l]=(0,a.useState)(!0),n=(0,s.createClient)();return(0,a.useEffect)(()=>{let e=async()=>{try{let{data:e,error:t}=await n.from("site_settings").select("key, value");if(t)return void l(!1);if(e){let t={};e.forEach(e=>{e.key in i&&(t[e.key]=e.value||i[e.key])}),r({...i,...t})}}catch(e){}finally{l(!1)}};e();let t=n.channel("site_settings_changes").on("postgres_changes",{event:"*",schema:"public",table:"site_settings"},()=>{e()}).subscribe();return()=>{t.unsubscribe()}},[]),{settings:e,loading:t}}},5016:(e,r,t)=>{"use strict";t.d(r,{cn:()=>i});var a=t(2821),s=t(5889);function i(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,s.QP)((0,a.$)(r))}},6014:(e,r,t)=>{"use strict";t.d(r,{o:()=>f,A:()=>m});var a=t(5155),s=t(2115),i=t(7003),l=t(6170),n=t(235),o=t(2196),d=t(1786),c=t(5229),u=t(5239);function m(e){let{value:r,onChange:t,label:m="Image",accept:f="image/*",maxSize:p=5,className:g=""}=e,[x,h]=(0,s.useState)(r||null),[b,v]=(0,s.useState)(!1),[y,w]=(0,s.useState)(null),N=(0,s.useRef)(null),j=async e=>{var r;let a=null==(r=e.target.files)?void 0:r[0];if(a){w(null),v(!0);try{if(!a.type.startsWith("image/"))throw Error("Please select a valid image file");if(a.size/1048576>p)throw Error("File is too large. Maximum ".concat(p,"MB allowed"));let e=new FileReader;e.onload=e=>{var r;let a=null==(r=e.target)?void 0:r.result;h(a),t(a),v(!1)},e.onerror=()=>{w("Error reading file"),v(!1)},e.readAsDataURL(a)}catch(e){w(e instanceof Error?e.message:"Error processing image"),v(!1)}}};return(0,a.jsxs)("div",{className:"space-y-3 ".concat(g),children:[(0,a.jsx)(n.J,{className:"text-white",children:m}),(0,a.jsxs)("div",{className:"space-y-3",children:[x&&(0,a.jsx)("div",{className:"relative group",children:(0,a.jsxs)("div",{className:"relative aspect-square w-full max-w-xs bg-gray-800 rounded-lg overflow-hidden",children:[(0,a.jsx)(u.default,{src:x,alt:"Preview",fill:!0,className:"object-cover"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:(0,a.jsxs)(i.$,{type:"button",variant:"destructive",size:"sm",onClick:()=>{h(null),t(null),N.current&&(N.current.value="")},className:"bg-red-600 hover:bg-red-700",children:[(0,a.jsx)(c.A,{className:"h-4 w-4 mr-1"}),"Eliminar"]})})]})}),(0,a.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,a.jsx)(i.$,{type:"button",variant:"outline",onClick:()=>{var e;null==(e=N.current)||e.click()},disabled:b,className:"border-gray-600 text-white hover:bg-gray-700 w-full max-w-xs",children:b?(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Procesando..."]}):(0,a.jsxs)("div",{className:"flex items-center",children:[x?(0,a.jsx)(o.A,{className:"h-4 w-4 mr-2"}):(0,a.jsx)(d.A,{className:"h-4 w-4 mr-2"}),x?"Cambiar imagen":"Subir imagen"]})}),(0,a.jsx)(l.p,{ref:N,type:"file",accept:f,onChange:j,className:"hidden"}),(0,a.jsxs)("div",{className:"text-xs text-gray-400 max-w-xs",children:[(0,a.jsx)("p",{children:"Supported formats: JPG, PNG, GIF, WebP"}),(0,a.jsxs)("p",{children:["Maximum size: ",p,"MB"]})]})]}),y&&(0,a.jsx)("div",{className:"text-red-400 text-sm bg-red-900/20 p-2 rounded border border-red-500/30 max-w-xs",children:y})]})]})}function f(e){let{onImageUpload:r,currentImage:t}=e,[n,m]=(0,s.useState)(t||null),[f,p]=(0,s.useState)(!1),[g,x]=(0,s.useState)(null),h=(0,s.useRef)(null);(0,s.useEffect)(()=>{m(t||null)},[t]);let b=async e=>{var t;let a=null==(t=e.target.files)?void 0:t[0];if(a){x(null),p(!0);try{if(!a.type.startsWith("image/"))throw Error("Please select a valid image file");if(a.size/1048576>5)throw Error("File is too large. Maximum 5MB allowed");let e=new FileReader;e.onload=e=>{var t;let a=null==(t=e.target)?void 0:t.result;m(a),r(a),p(!1)},e.onerror=()=>{x("Error reading file"),p(!1)},e.readAsDataURL(a)}catch(e){x(e instanceof Error?e.message:"Error processing image"),p(!1)}}};return(0,a.jsx)("div",{className:"space-y-3",children:(0,a.jsxs)("div",{className:"space-y-3",children:[n&&(0,a.jsx)("div",{className:"relative group",children:(0,a.jsxs)("div",{className:"relative aspect-square w-full max-w-xs bg-gray-800 rounded-lg overflow-hidden",children:[(0,a.jsx)(u.default,{src:n,alt:"Preview",fill:!0,className:"object-cover"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:(0,a.jsxs)(i.$,{type:"button",variant:"destructive",size:"sm",onClick:()=>{m(null),r(""),h.current&&(h.current.value="")},className:"bg-red-600 hover:bg-red-700",children:[(0,a.jsx)(c.A,{className:"h-4 w-4 mr-1"}),"Eliminar"]})})]})}),(0,a.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,a.jsx)(i.$,{type:"button",variant:"outline",onClick:()=>{var e;null==(e=h.current)||e.click()},disabled:f,className:"border-gray-600 text-white hover:bg-gray-700 w-full max-w-xs",children:f?(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Procesando..."]}):(0,a.jsxs)("div",{className:"flex items-center",children:[n?(0,a.jsx)(o.A,{className:"h-4 w-4 mr-2"}):(0,a.jsx)(d.A,{className:"h-4 w-4 mr-2"}),n?"Cambiar imagen":"Subir imagen"]})}),(0,a.jsx)(l.p,{ref:h,type:"file",accept:"image/*",onChange:b,className:"hidden"}),(0,a.jsxs)("div",{className:"text-xs text-gray-400 max-w-xs",children:[(0,a.jsx)("p",{children:"Supported formats: JPG, PNG, GIF, WebP"}),(0,a.jsx)("p",{children:"Maximum size: 5MB"})]})]}),g&&(0,a.jsx)("div",{className:"text-red-400 text-sm bg-red-900/20 p-2 rounded border border-red-500/30 max-w-xs",children:g})]})})}},6170:(e,r,t)=>{"use strict";t.d(r,{p:()=>l});var a=t(5155),s=t(2115),i=t(5016);let l=s.forwardRef((e,r)=>{let{className:t,type:s,...l}=e;return(0,a.jsx)("input",{type:s,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...l})});l.displayName="Input"},6363:(e,r,t)=>{"use strict";t.d(r,{X:()=>a.A});var a=t(5229)},6881:(e,r,t)=>{"use strict";t.d(r,{OW:()=>n,UU:()=>i,nl:()=>l});var a=t(1313);let s=null;function i(){return s||(s=(0,a.createBrowserClient)("https://jrspddhtfdfbnxklvbgx.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Impyc3BkZGh0ZmRmYm54a2x2Ymd4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMxNjY5ODksImV4cCI6MjA2ODc0Mjk4OX0.Grs9dkcrBGN5YibcckC9NKLgvrBAY03-bt6N9VMws9s",{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0},global:{headers:{Connection:"keep-alive","Cache-Control":"no-cache"}},realtime:{params:{eventsPerSecond:2}}}))}function l(e,r){var t,a,s,i;return(null==e?void 0:e.code)==="PGRST116"?"No se encontraron registros":(null==e?void 0:e.code)==="23505"?"Ya existe un registro con estos datos":(null==e?void 0:e.code)==="23514"?"Los datos no cumplen con las reglas de validaci\xf3n de la base de datos":(null==e?void 0:e.code)==="42501"?"Error de permisos: verifica que est\xe9s autenticado correctamente. Si el problema persiste, contacta al administrador.":(null==e||null==(t=e.message)?void 0:t.includes("row-level security policy"))?"Error de permisos de seguridad: verifica que est\xe9s autenticado correctamente. Si el problema persiste, contacta al administrador.":(null==e||null==(a=e.message)?void 0:a.includes("JWT"))?"Sesi\xf3n expirada. Por favor, inicia sesi\xf3n nuevamente":(null==e||null==(s=e.message)?void 0:s.includes("QUIC"))||(null==e||null==(i=e.message)?void 0:i.includes("protocol"))?"Error de conexi\xf3n. Reintentando...":(null==e?void 0:e.message)||"Error desconocido"}async function n(e){let r,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;for(let i=0;i<t;i++)try{return await e()}catch(e){var s;if(r=e,(null==e||null==(s=e.message)?void 0:s.includes("JWT"))||(null==e?void 0:e.code)==="42501")throw e;i<t-1&&await new Promise(e=>setTimeout(e,a*(i+1)))}throw r}},7001:(e,r,t)=>{"use strict";t.d(r,{T:()=>l});var a=t(5155),s=t(2115),i=t(5016);let l=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...s})});l.displayName="Textarea"},7003:(e,r,t)=>{"use strict";t.d(r,{$:()=>d,r:()=>o});var a=t(5155),s=t(2115),i=t(2467),l=t(3101),n=t(5016);let o=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef((e,r)=>{let{className:t,variant:s,size:l,asChild:d=!1,...c}=e,u=d?i.DX:"button";return(0,a.jsx)(u,{className:(0,n.cn)(o({variant:s,size:l,className:t})),ref:r,...c})});d.displayName="Button"},7235:(e,r,t)=>{"use strict";t.d(r,{d:()=>n});var a=t(5155),s=t(2115),i=t(7599),l=t(5016);let n=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)(i.bL,{className:(0,l.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...s,ref:r,children:(0,a.jsx)(i.zi,{className:(0,l.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});n.displayName=i.bL.displayName},7812:(e,r,t)=>{"use strict";t.d(r,{E:()=>n});var a=t(5155);t(2115);var s=t(3101),i=t(5016);let l=(0,s.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function n(e){let{className:r,variant:t,...s}=e;return(0,a.jsx)("div",{className:(0,i.cn)(l({variant:t}),r),...s})}},8525:(e,r,t)=>{"use strict";t.d(r,{createClient:()=>s});var a=t(1313);function s(){return(0,a.createBrowserClient)("https://jrspddhtfdfbnxklvbgx.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Impyc3BkZGh0ZmRmYm54a2x2Ymd4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMxNjY5ODksImV4cCI6MjA2ODc0Mjk4OX0.Grs9dkcrBGN5YibcckC9NKLgvrBAY03-bt6N9VMws9s")}},8843:(e,r,t)=>{"use strict";t.d(r,{F:()=>a.A});var a=t(6191)},9393:()=>{}}]);